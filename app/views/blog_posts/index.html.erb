<% provide(:title, "Blog") %>

<!-- Image slider -->
<div id="slides" class="carousel slide border border-danger border-top-0 border-left-0 border-right-0" data-ride="carousel">	
	<div class="carousel-inner">
		<div class="carousel-item active">
			<h1 class="display-2" id="blog_header" style="font-size:5vw">MARTIAL BUSINESS BLOG</h1>
			<%= image_tag("attendrr_blog_cover.png") %> 
			<div class="carousel-caption">
				
			</div>
			<h3 id="blog_subheader" style="font-size:3vw">The #1 resource for ambitious Martial Arts business owners</h3>
		</div>
	</div>
</div>

<!-- Brought to you by -->
<div class="container-fluid" style="blog">
	<p class="lead text-center" style="font-size:2vw">Brought to you by Attendrr Club Management</p>
</div>

<!-- non-card style blog posts -->
<div class="container-fluid padding" style="card">
	<div class="row text-centre padding">
		<% @most_recent.each do |blog_post| %>
			<div class="col-sm">
				<div class="container-fluid">
					<div class="container-fluid" id="cover_image_container">	
						<%= image_tag blog_post.picture.thumbnail.to_s, :class => "img-fluid w-100" %>		
						<div class="overlay">
							<h3 class="text-wrap" id="blog_thumbnail_text" style="font-size:2vw"><%= blog_post.title %></h3>
						</div>			
					</div>
					<%= link_to "", blog_post_path(blog_post), :class => "stretched-link" %>
					<p><%= blog_post.subtitle %></p>					
					<p><%= blog_post.created_at.to_date.to_formatted_s(:long) %></p>
				</div>
			</div>
		<% end %>
	</div>
	<hr class="my-4">
</div>

<!-- Cards style blog buttons 
<div class="container-fluid padding">
	<div class="row padding">
		<% @most_recent.each do |blog_post| %>
			<div class="col-md-4">
				<div class="card" style="width: 30rem;">
				<%= image_tag(blog_post.picture.thumbnail.to_s, :class => "card-img-top") %>
					<div class="card-body">
						<h4 class="card-title"><%= link_to "", blog_post_path(blog_post), :class => "stretched-link" %></h4>
						<h4 class="card-title"><%= blog_post.title %></h4>
						<p class="card-text"><%= blog_post.subtitle %></p>
						<p class="card-text"><%= blog_post.created_at.to_date.to_formatted_s(:long) %></p>
					</div>
				</div>
			</div>
		<% end %>
	</div>
</div> -->

<!-- Subscribe -->
<section id="subscribe">
	<div class="container">
		<h3 class="text-center text-white">Tools, tactics and templates of the most successful martial arts schools, direct to your inbox</h3><br>
			<%= form_for Follower.new do |f|  %>
			<div class="row">
				<div class="col-12 col-sm-6">
    				<%= f.text_field :name, placeholder: "First name" %>
    			</div>
    			<div class="col-12 col-sm-6">
   					<%= f.text_field :email, placeholder: "Email" %>
   				</div>
   				<div class="submit_button">
    			<%= f.submit "SUBSCRIBE!", class: "btn btn-danger", :id => "small_button" %>
    			</div>
    		</div>
			<% end %>
	</div>
</section>


	<!-- <div class="card-columns">
			<% @most_recent.each do |bp| %>
					<div class="col-md-4">

						<div class="card">
							<div class="card-body">
						<div class="card-title"><%= link_to bp.title, blog_post_path(bp),class:'stretched-link' %></div>
						<p class="card-text"><%= bp.subtitle %></p>
						
						<% if bp.picture.nil? %>
							<%= image_tag("no_picture.jpg", :class => "card-img-bottom") %>
						<% else %>
							<%= image_tag bp.picture.thumbnail.to_s %>
						<% end %>
						<p><%= bp.created_at.to_date.to_formatted_s(:long) %></p>
							</div>
						</div>

					</div>
			<% end %>
	</div> -->
	

		<!-- <div class="container-fluid pt-3 p-3 my-3 bg-danger text-white">
			<div class="container"
			<p class="text-center">TOOLS, TACTICS AND TEMPLATES OF THE MOST SUCCESSFUL MARTIAL ARTS SCHOOLS, DIRECT TO YOUR INBOX</p>
			<%= form_for Follower.new do |f|  %>
			<div class="row"
				<div class="col-sm-6">
  					<%= f.label :name, "Name" %>
    				<%= f.text_field :name %>
    			</div>
    			<div class="col-sm-6">
   					<%= f.label :name, "Email" %>
   					<%= f.text_field :email %>
   				</div>
    			<%= f.submit "SUBSCRIBE!" %>
    		</div>
			<% end %>
		</div>
		</div> -->

			<% unless @all_others.nil? %>
			<div class="card-columns">
			<% @all_others.each do |bp| %>
				<div class="row">
					<div class="col-12 col-md-4  p-3 class-box  mt-1">
						<span><%= link_to bp.title, blog_post_path(bp),class:'class-name' %></span>
						<p><%= bp.subtitle %></p>
						<p><%= bp.created_at.to_date.to_formatted_s(:long) %></p>
						<% if bp.picture.nil? %>
							<%= image_tag("no_picture.jpg") %>
						<% else %>
							<%= image_tag bp.picture.thumbnail.to_s %>
						<% end %>
					</div>
				</div>
			<% end %>
		</div>
			<% end %>


			<!-- non-card style blog posts -->
<div class="container-fluid padding" style="card">
	<div class="row text-centre padding">
		<% i = 1 %>
		<% @most_recent.each do |blog_post| %>
		<% unless i == 3 %>	
			<div class="col-xs-12 col-sm-6 col-md-4"><% i += 1 %>
		<% else %>
			<div class="col-sm-12 col-md-4"><% i = 1 %>
		<% end %>
				<h3><%= link_to blog_post.title, blog_post_path(blog_post) %></h3>
				<p><%= blog_post.subtitle %></p>
				<%= image_tag blog_post.picture.thumbnail.to_s %>
				<p><%= blog_post.created_at.to_date.to_formatted_s(:long) %></p>
			</div>
		<% end %>
	</div>
	<hr class="my-4">
</div>
