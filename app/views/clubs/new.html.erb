<% provide(:title, 'Sign up') %>
<% provide(:button_text, 'Create my club') %>
<h1>Sign up</h1>

<div class="row">
	<div class="col-md-6 col-md-offset-3">
		<%= form_for(@club, html: { multipart: true }) do |f| %>
			<%= render 'shared/error_messages', object: f.object %>

			<%= f.label :name, "Club name" %>*
			<%= f.text_field :name, class: 'form-control' %>

			<%= f.label :owner_first_name %>*
			<%= f.text_field :owner_first_name, class: 'form-control' %>

			<%= f.label :owner_last_name %>*
			<%= f.text_field :owner_last_name, class: 'form-control' %>

			<%= f.label :email %>*
			<%= f.email_field :email, class: 'form-control' %>

			<%= f.label :address_line_1 %>* Street address, P.O. box, company name, etc.
			<%= f.text_field :address_line_1, class: 'form-control' %>

			<%= f.label :address_line_2 %> Apartment, suite, unit, building, floor, etc.
			<%= f.text_field :address_line_2, class: 'form-control' %>

			<%= f.label :city %>*
			<%= f.text_field :city, class: 'form-control' %>

			<%= f.label :state %>*
			<%= f.text_field :state, class: 'form-control' %>

			<%= f.label :postcode %>*
			<%= f.number_field :postcode, class: 'form-control' %>

			<%= f.label :country %>*
			<%= f.text_field :country, class: 'form-control' %>

			<%= f.label :phone1, "Primary phone" %>*
			<%= f.phone_field :phone1, class: 'form-control' %>

			<%= f.label :phone2, "Secondary phone" %>
			<%= f.phone_field :phone2, class: 'form-control' %>

			<%= f.label :absent_alert%> Notification when a student hasn't trained for more than this many days
			<%= f.number_field :absent_alert, class: 'form-control' %>

			<%= f.label :password %>*
			<%= f.password_field :password, class: 'form-control' %>

			<%= f.label :password_confirmation, "Confirm password" %>*
			<%= f.password_field :password_confirmation, class: 'form-control' %>

			<span class="picture">
				<%= f.label :picture, "Attach club logo" %>
				<%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
			</span>

			<%= f.submit yield(:button_text), class: "btn btn-primary" %>
			
			<%= f.fields_for :payment_plans do |payment_plans| %>
				<%= payment_plans.hidden_field :name, value: "Prospect" %>
				<%= payment_plans.hidden_field :price, value: 0 %>
				<%= payment_plans.hidden_field :frequency, value: "Per class" %>
				<%= payment_plans.hidden_field :classes_amount, value: 1 %>
			<% end %>
		<% end %>

		<!-- JQuery. Ensures files size is < 5MB client-side -->
		<script type="text/javascript">
		  $('#club_picture').bind('change', function() {
		    var size_in_megabytes = this.files[0].size/1024/1024;
		    if (size_in_megabytes > 5) {
		      alert('Maximum file size is 5MB. Please choose a smaller file.');
		    }
		  });
		</script>
	</div>
</div>
