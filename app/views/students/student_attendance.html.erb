<% if params[:student_id].present?  %>
  <h4 style="text-align: center;">
    <span style="font-family: serif; font-size: xx-large;"><%= @student.first_name.upcase %>-<%= @student.last_name.upcase %> ATTENDANCE SHEET
    </span>
  </h4>
<% else %>
  <h4 style="text-align: center;">
    <span style="font-family: serif; font-size: xx-large;">
      <%= @activity.name.upcase %> ATTENDANCE SHEET
    </span>
  </h4>
<% end %>

  <!-- <h2>Inline form</h2>
  <p>Make the viewport larger than 768px wide to see that all of the form elements are inline, left aligned, and the labels are alongside.</p> -->
  <%= form_tag(student_attendance_students_path, :method => "get", id: "search-form",class: "form-inline") do %>
    <div class="row" style="margin-bottom: 7px;">
      <div class="attendance-div">
        <h6 style="margin-left: 21px;"><span style=" font-size: larger;font-weight: bold;"><br/>FILTER THE TABLE BETWEEN DATE</span></h6>
        <div class="form-group" style="margin-left: 20px;margin-bottom: 15px;margin-top: 10px;">
          <label for="email">From:</label>
           <div class='input-group date' id='datepicker_from'>
            <%= text_field_tag :from_date,params[:from_date],class: "form-control" %>
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-calendar"></span>
            </span>
          </div>
        </div>
        <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
          <label for="pwd">To:</label>
          <div class='input-group date' id='datepicker_to'>
            <%= text_field_tag :to_date,params[:to_date],class: "form-control"%>
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-calendar"></span>
            </span>
          </div>
        </div>
        <%= hidden_field_tag :student_id,params[:student_id]%>
        <%= hidden_field_tag :activity_id,params[:activity_id]%>
        <button type="submit" class="btn btn-default" style="margin-bottom: 15px;margin-top: 10px;">Submit</button>
        <% end %>
        <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
          <%= button_to "Reset", student_attendance_students_path(), :class => "btn btn-default", :method => :get, params: { student_id: params[:student_id], activity_id: params[:activity_id] } %>
        </div>
      </div>
    </div>

   <!-- <%= form_tag(student_attendance_students_path, :method => "get", id: "search-form",class: "form-inline") do %>
    <div class="row" style="margin-bottom: 7px;">
          <div class="attendance-div">
              <h6 style="margin-left: 21px;"><span style=" font-size: larger;font-weight: bold;"><br/>FILTER THE TABLE WITH MULTIPLE PARAMETER</span></h6>
              <div class="form-group" style="margin-left: 20px;margin-bottom: 15px;margin-top: 10px;">
                <label for="email">Class:</label>
                 <div class='input-group date'>
                  <%= text_field_tag :class_name,params[:class_name],class: "form-control" %>
                </div>
              </div>
              <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
                <label for="pwd">Rank:</label>
                <div class='input-group date' >
                  <%= text_field_tag :rank_name,params[:rank_name],class: "form-control"%>
                </div>
              </div>
              <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
                <label for="pwd">Day:</label>
                <div class='input-group date' >
                  <%= select_tag :search_day,options_for_select([["Select" , "" ]]+(0..6).map {|d| [Date::DAYNAMES[d], d]},:selected=>params[:search_day]),class: "form-control"%>
                </div>
              </div>
              <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
                <label for="pwd">Date:</label>
                <div class='input-group date' id='datepicker_search'>
                  <%= text_field_tag :search_date,params[:search_date],class: "form-control"%>
                  <span class="input-group-addon">
                    <span class="glyphicon glyphicon-calendar"></span>
                  </span>
                </div>
              </div>
              <%= hidden_field_tag :student_id,params[:student_id]%>
              <button type="submit" class="btn btn-default" style="margin-bottom: 15px;margin-top: 10px;">Submit</button>
              <% end %>
              <div class="form-group" style="margin-bottom: 15px;margin-top: 10px;">
              <%= button_to "Reset", student_attendance_students_path(),:class => "btn btn-default", :method => :get,params: { student_id: params[:student_id] } %>
              </div>
          </div>
    </div> -->

<div class="table-responsive">
  <table id="products" class="table table-striped table-bordered" cellspacing="0" width="100%" data-source="<%= student_attendance_students_url(student_id: params[:student_id], activity_id: params[:activity_id], format: "json", from_date: params[:from_date], to_date: params[:to_date]) %>">
    <thead>
      <tr>
        <% if params[:student_id].present? %>
          <th>Class Name</th>
        <% elsif params[:activity_id].present? %>
          <th>Student Name</th>
        <% end %>
        <th>Rank</th>
        <th>Time</th>
        <th>Day</th>
        <th>Date</th>
      </tr>
    </thead>
    <tfoot>
    	<tr>
        <% if params[:student_id].present? %>
          <th>Class Name</th>
        <% else %>
          <th>Student Name</th>
        <% end %>
          <th>Rank</th>
          <th>Time</th>
          <th>Day</th>
          <th></th>
      </tr>
    </tfoot>
    <tbody>
    </tbody>
  </table>
</div>
<script type="text/javascript">
  $(function () {
    $('#datepicker_from').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    $('#datepicker_to').datetimepicker({
      format: 'DD/MM/YYYY'
    });
    $('#datepicker_search').datetimepicker({
      format: 'DD/MM/YYYY'
    });
  });
</script>
